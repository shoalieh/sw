<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>آفلاین/آنلاین Checker</title>
</head>
<body>

<!-- نمایش پیام آفلاین -->
<div id="offline-message" style="display:none; background-color: #f44336; color: white; text-align: center; padding: 10px;">
    شما آفلاین هستید. لطفاً اتصال اینترنت خود را بررسی کنید.
</div>

<!-- نمایش محتوای ثابت در صورت آفلاین بودن -->
<div id="offline-content" style="display:none; text-align: center; padding: 20px;">
    <h2>شما آفلاین هستید</h2>
    <p>این محتوا در حال حاضر به دلیل آفلاین بودن شما نمایش داده می‌شود.</p>
</div>

<!-- محتوای اصلی سایت -->
<div id="main-content" style="display:none; text-align: center; padding: 20px;">
    <h1>سلام! به سایت خوش آمدید</h1>
    <p>این محتوا فقط در حالت آنلاین قابل مشاهده است.</p>
</div>

<script>
    // تابع بررسی وضعیت آنلاین/آفلاین
    function checkOnlineStatus() {
        var offlineMessage = document.getElementById('offline-message');
        var offlineContent = document.getElementById('offline-content');
        var mainContent = document.getElementById('main-content');

        if (!navigator.onLine) {
            // کاربر آفلاین است
            offlineMessage.style.display = 'block';
            offlineContent.style.display = 'block';
            mainContent.style.display = 'none';
        } else {
            // کاربر آنلاین است
            offlineMessage.style.display = 'none';
            offlineContent.style.display = 'none';
            mainContent.style.display = 'block';
        }
    }

    // تابع بررسی وضعیت هر لحظه و رفرش صفحه در صورت آنلاین شدن
    setInterval(function () {
        checkOnlineStatus();
        if (navigator.onLine) {
            location.reload();
        }
    }, 1000);

    // اجرای تابع بررسی وضعیت آنلاین/آفلاین هنگام بارگذاری صفحه
    window.onload = function () {
        checkOnlineStatus();
    };
</script>

</body>
</html>
